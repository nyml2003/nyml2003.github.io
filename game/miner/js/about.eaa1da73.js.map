{"version":3,"file":"js/about.eaa1da73.js","mappings":"6KACSA,MAAM,S,yEAAXC,EAAAA,EAAAA,IAEM,MAFNC,EAEM,EADJC,EAAAA,EAAAA,IAAaC,I,8XCoBnB,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAAIC,EAAAA,EAAAA,IAAIH,EAAMI,MAAMC,KACpBC,GAAIH,EAAAA,EAAAA,IAAIH,EAAMI,MAAMG,KACpBC,GAAQL,EAAAA,EAAAA,IAAI,IACZM,EAAOT,EAAMI,MAAMK,OACnBC,EAASA,KACPD,EAAOE,IAAIH,EAAMI,OACjBZ,EAAMa,OAAO,SAAUJ,EAAOK,IAAIN,EAAMI,QAEvCZ,EAAMa,OAAO,SAAU,CAACX,EAAGI,GAAG,E,ifC5BvC,MAAMS,EAAc,EAEpB,QFGE,GACIC,KAAK,YACLC,WAAW,CAACC,WAAUA,I,QGL5B,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,2FCNOxB,MAAM,Q,sEAAXC,EAAAA,EAAAA,IAEM,MAFNC,EAEM,EADJC,EAAAA,EAAAA,IAAUsB,I,yCCDC,SAASC,EAAYhB,EAAKE,GACvC,IAAIe,EAAO,EACPC,EAAQ,EACRC,EAAO,EACPC,EAAK,EACLC,EAAO,EACPC,EAAU,EACd,MAAMC,EACJC,YAAYxB,EAAKyB,EAAQC,GACvBC,KAAK3B,IAAMA,EACX2B,KAAKF,OAASA,EACdE,KAAKD,UAAYA,CACnB,EAEF,IAAIE,EAAU,IAAIC,MACdC,EAAQ,EACRC,EAAQ,EACRC,EAAI,IAAIH,MAAM7B,EAAM,GACxB,IAAK,IAAIiC,EAAI,EAAGA,EAAGD,EAAEE,OAAQD,IAC3BD,EAAEC,GAAK,IAAIJ,MAAM3B,EAAI,GAAGiC,KAAKd,GAG/B,SAASe,IAEHN,EAAQ,GAAK9B,GAAOgC,EAAEF,EAAQ,GAAGC,IAAUV,GAE7CO,EAAQS,KAAK,IAAId,EAAMO,EAAQ,EAAGC,EAAOd,IAEvCc,EAAQ,GAAK7B,GAAO8B,EAAEF,GAAOC,EAAQ,IAAMV,GAE7CO,EAAQS,KAAK,IAAId,EAAMO,EAAOC,EAAQ,EAAGb,IAEvCY,EAAQ,GAAK,GAAKE,EAAEF,EAAQ,GAAGC,IAAUV,GAE3CO,EAAQS,KAAK,IAAId,EAAMO,EAAQ,EAAGC,EAAOX,IAEvCW,EAAQ,GAAK,GAAKC,EAAEF,GAAOC,EAAQ,IAAMV,GAE3CO,EAAQS,KAAK,IAAId,EAAMO,EAAOC,EAAQ,EAAGZ,GAE7C,CAnBAa,EAAE,GAAG,GAAKV,EAoBVc,IACA,MAAwB,IAAjBR,EAAQM,OAAY,CACzB,IAAII,EAAYV,EAAQM,OACpBK,EAAUC,KAAKC,MAAMD,KAAKE,SAAWJ,GACrCK,EAAcf,EAAQW,GAG1B,OAFAT,EAAQa,EAAY3C,IACpB+B,EAAQY,EAAYlB,OACZkB,EAAYjB,WAClB,KAAKT,EACHa,IACA,MACF,KAAKZ,EACHa,IACA,MACF,KAAKZ,EACHY,IACA,MACF,KAAKX,EACHU,IACA,MAEAE,EAAEF,GAAOC,IAAUV,IACrBW,EAAEW,EAAY3C,KAAK2C,EAAYlB,QAAUO,EAAEF,GAAOC,GAAST,EAC3Dc,KAEFR,EAAQgB,OAAOL,EAAS,EAC1B,CACA,OAAOP,CAQT,CC5Ee,SAASa,EAAOC,EAAI5C,EAAIF,GACnC,IAAIsB,EAAU,EACVyB,EAAO,IAAIlB,MACf,IAAK,IAAII,EAAE,EAAGA,EAAE/B,EAAK+B,IACjB,IAAK,IAAIe,EAAE,EAAGA,EAAEhD,EAAKgD,IACjB,GAAIF,EAAIb,GAAGe,KAAK1B,EAChB,CACI,IAAI2B,EAAO,EACPH,EAAIb,EAAE,GAAGe,KAAK1B,GAAS2B,IACvBH,EAAIb,GAAGe,EAAE,KAAK1B,GAAS2B,IACvBH,EAAIb,EAAE,GAAGe,KAAK1B,GAAS2B,IACvBH,EAAIb,GAAGe,EAAE,KAAK1B,GAAS2B,IACd,IAATA,GAGAF,EAAOV,KAAK,CAACJ,EAAE,EAAEe,EAAE,GAE3B,CACR,IAAIE,EAAK,CAACH,EAAO,GAAGA,EAAOI,OAC3BJ,EAAOK,QACPN,EAAII,EAAK,GAAG,GAAG,GAAGA,EAAK,GAAG,GAAG,GAAG,EAChC,IAAK,IAAIA,KAAQH,EAEbD,EAAII,EAAK,GAAG,GAAGA,EAAK,GAAG,GAAG,EAE9B,OAAOA,CACX,CC1Be,SAASG,IACpB,IAAIC,EAAK,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GACtC,OAAOA,EAAKd,KAAKC,MAAMD,KAAKE,SAAWY,EAAKpB,QAChD,C,kNCyCA,MAAMqB,EAAM,CACVC,QAAO1D,EAAAA,EAAAA,IAAI,GACX2D,QAAO3D,EAAAA,EAAAA,IAAI,IAEb4D,aAAY,KACVH,EAAME,OAAOlD,QACW,IAApBgD,EAAME,OAAOlD,QACfgD,EAAMC,OAAOjD,QACbgD,EAAME,OAAOlD,MAAM,EACrB,GACC,KACH,MAAMZ,GAAQC,EAAAA,EAAAA,MACRC,GAAI8D,EAAAA,EAAAA,KAAS,IAAehE,EAAMI,MAAMC,MACxCC,GAAI0D,EAAAA,EAAAA,KAAS,IAAehE,EAAMI,MAAMG,MACxC0D,GAAW9D,EAAAA,EAAAA,IAAI,GACf+D,GAAQ/D,EAAAA,EAAAA,IAAI,GACZgE,GAAOhE,EAAAA,EAAAA,IAAI,IACXiE,GAAejE,EAAAA,EAAAA,IAAI,GACnBkE,GAAUlE,EAAAA,EAAAA,IAAI,IACdgD,GAAMhD,EAAAA,EAAAA,IAAImE,EAAYpE,EAAEU,MAAQ,EAAGN,EAAEM,MAAQ,IAC7CwC,GAASjD,EAAAA,EAAAA,IAAIoE,EAAapB,EAAIvC,MAAOV,EAAEU,MAAON,EAAEM,QAChD4D,EAAgBC,EAAQ,MACxBC,EAAS,CACbD,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,OAEJE,EAAY,CAChBF,EAAQ,KACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,KACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,IACRA,EAAQ,MACRA,EAAQ,MACRA,EAAQ,OAEJG,EAAa,IAAIC,IAAI,CACzB,CAAC,GAAI,GACL,CAAC,GAAI,GACL,CAAC,GAAI,GACL,CAAC,GAAI,GACL,CAAC,GAAI,GACL,CAAC,GAAI,GACL,CAAC,GAAI,GACL,CAAC,GAAI,KAEDC,EAA2B,IAAID,IAAI,CACvC,CAAC,EAAG,EAAE,EAAG,IACT,CAAC,EAAG,CAAC,EAAG,IACR,CAAC,EAAG,CAAC,GAAI,IACT,CAAC,EAAG,CAAC,EAAG,MAEJE,EAAO,CACXC,aAAa7E,EAAAA,EAAAA,IAAI,GACjB8E,MAAM9E,EAAAA,EAAAA,IAAIiD,EAAOxC,MAAM,GAAG,IAC1BsE,MAAM/E,EAAAA,EAAAA,IAAIiD,EAAOxC,MAAM,GAAG,KAEtBuE,EAAW,CACfF,MAAM9E,EAAAA,EAAAA,IAAIiD,EAAOxC,MAAM,GAAG,IAC1BsE,MAAM/E,EAAAA,EAAAA,IAAIiD,EAAOxC,MAAM,GAAG,KAEtBwE,EAAU,CACdH,MAAM9E,EAAAA,EAAAA,IAAIiD,EAAOxC,MAAM,GAAG,IAC1BsE,MAAM/E,EAAAA,EAAAA,IAAIiD,EAAOxC,MAAM,GAAG,KAEtByE,EAAYA,CAACC,EAAOC,EAAKC,IACtBtD,MAAMqD,EAAMD,EAAQ,GAAG9C,OAAOW,KAAI,CAACsC,EAAGC,IAAQJ,EAAQI,IAAKC,QAAOC,GAAKA,GAAK,GAAKA,GAAKJ,IAEzF9E,EAASA,KACbyC,EAAIvC,MAAQ0D,EAAYpE,EAAEU,MAAQ,EAAGN,EAAEM,MAAQ,GAC/CwC,EAAOxC,MAAQ2D,EAAapB,EAAIvC,MAAOV,EAAEU,MAAON,EAAEM,OAClDmE,EAAKE,KAAKrE,MAAQwC,EAAOxC,MAAM,GAAG,GAClCmE,EAAKG,KAAKtE,MAAQwC,EAAOxC,MAAM,GAAG,GAClCmE,EAAKC,YAAYpE,MAAQ,EACzBuE,EAASvE,MAAQ,CAAEqE,KAAM7B,EAAOxC,MAAM,GAAG,GAAIsE,KAAM9B,EAAOxC,MAAM,GAAG,IACnEwE,EAAQxE,MAAQ,CAAEqE,KAAM7B,EAAOxC,MAAM,GAAG,GAAIsE,KAAM9B,EAAOxC,MAAM,GAAG,GAAI,EAElEiF,EAAcA,KAClB,OAAQnC,KACN,KAAK,EACHQ,EAAMtD,OAAS,IACf,MACF,KAAK,EACHmE,EAAKE,KAAKrE,MAAQwC,EAAOxC,MAAM,GAAG,GAClCmE,EAAKG,KAAKtE,MAAQwC,EAAOxC,MAAM,GAAG,GAClCyD,EAAQzD,MAAQ,mBAChBuD,EAAKvD,MAAM8B,KAAK,GAChB,MACF,KAAK,EACHyB,EAAKvD,MAAM8B,KAAK,GAChB,MACF,KAAK,EACHwB,EAAMtD,OAAS,EACfyD,EAAQzD,MAAQ,cAChBuD,EAAKvD,MAAM8B,KAAK,GAChB,MACF,KAAK,EACHyB,EAAKvD,MAAM8B,KAAK,GAChB2B,EAAQzD,MAAQ,qBAChBwD,EAAaxD,MAAQiC,KAAKiD,IAAI1B,EAAaxD,MAAM,EAAE,GACnD,MACF,KAAK,EACHuD,EAAKvD,MAAM8B,KAAK,GAChB2B,EAAQzD,MAAO,oBACfwD,EAAaxD,MAAQiC,KAAKkD,IAAI3B,EAAaxD,MAAM,EAAE,GAAG,EAGtDoF,EAAYC,IACZrB,EAAWjE,IAAIsF,EAAMC,WACzBnB,EAAKC,YAAYpE,MAAQgE,EAAW9D,IAAImF,EAAMC,SAAQ,EAElDC,EAAqBC,IACzB,GAAIxB,EAAWjE,IAAIyF,GAAO,CACxB,IAAIC,EAAezB,EAAW9D,IAAIsF,GAClC,GAAItB,EAAyBnE,IAAI0F,GAAe,CAC9C,IAAIC,EAA+BxB,EAAyBhE,IAAIuF,GAEhE,OADAtB,EAAKC,YAAYpE,MAAQyF,EAAe,EAAIpC,EAASrD,MAC7CuC,EAAIvC,MAAMmE,EAAKE,KAAKrE,MAAQ0F,EAA6B,GAAK,GAAGvB,EAAKG,KAAKtE,MAAQ0F,EAA6B,GAAK,IAC3H,KAAK,EACHvB,EAAKE,KAAKrE,OAAS0F,EAA6B,GAChDvB,EAAKG,KAAKtE,OAAS0F,EAA6B,GAChD,MACF,KAAK,EACHvB,EAAKE,KAAKrE,OAAS0F,EAA6B,GAChDvB,EAAKG,KAAKtE,OAAS0F,EAA6B,GAChD5F,IACA,MACF,KAAK,EACHyC,EAAIvC,MAAMmE,EAAKE,KAAKrE,MAAQ0F,EAA6B,GAAK,GAAGvB,EAAKG,KAAKtE,MAAQ0F,EAA6B,GAAK,GAAK,EAC1HT,IACA,MAEN,CACF,GAEIU,EAAYN,IAChBhC,EAASrD,MAAQ,EAAIqD,EAASrD,MAC9BuF,EAAkBF,EAAMC,QAAQ,E,g6CC5LlC,MAAMnF,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,QLCA,GACIC,KAAK,YACLC,WAAY,CAAEuF,QAAOA,IMNzB,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASrF,KAEpE,O","sources":["webpack://miner/./src/views/LoginView.vue","webpack://miner/./src/components/GameConfig.vue","webpack://miner/./src/components/GameConfig.vue?507d","webpack://miner/./src/views/LoginView.vue?5755","webpack://miner/./src/views/MainView.vue","webpack://miner/./src/assets/mazeCreator.js","webpack://miner/./src/assets/minralPutter.js","webpack://miner/./src/assets/gacha.js","webpack://miner/./src/components/GameMap.vue","webpack://miner/./src/components/GameMap.vue?274a","webpack://miner/./src/views/MainView.vue?7ba4"],"sourcesContent":["<template>\r\n    <div class=\"login\">\r\n      <GameConfig/>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import GameConfig from '@/components/GameConfig.vue';\r\n  export default {\r\n      name:\"loginView\",\r\n      components:{GameConfig}\r\n  }\r\n  </script>","<template>\r\n    <div>\r\n        <div>选择难度</div>\r\n        <select v-model=\"level\" @click=\"update\">\r\n            <option value=\"low\">low</option>\r\n            <option value=\"medium\">medium</option>\r\n            <option value=\"high\">high</option>\r\n            <option value=\"user_defined\">自定义</option>\r\n        </select>\r\n        <div v-if=\"level == 'user_defined'\">\r\n                <div>row:</div>\r\n            <input type=\"number\" v-model=\"m\" @change=\"update\">\r\n            <div>col:</div>\r\n            <input type=\"number\" v-model=\"n\" @change=\"update\">\r\n        </div>\r\n    </div>\r\n        \r\n</template>\r\n\r\n<script setup>\r\nimport { useStore } from 'vuex';\r\nimport { ref } from 'vue';\r\nconst store = useStore();\r\nconst m = ref(store.state.row);\r\nconst n = ref(store.state.col);\r\nconst level = ref(\"\");\r\nconst levels=store.state.levels;\r\nconst update = () => {\r\n    if (levels.has(level.value)){\r\n        store.commit(\"update\", levels.get(level.value));\r\n    }\r\n    else store.commit(\"update\", [m, n]);\r\n}\r\n\r\n</script>\r\n\r\n<style scoped></style>\r\n","import script from \"./GameConfig.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GameConfig.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./LoginView.vue?vue&type=template&id=333cba2c\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\code\\\\vue\\\\miner\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"main\">\n    <GameMap/>\n  </div>\n</template>\n\n<script>\nimport GameMap from \"@/components/GameMap.vue\"\n\nexport default {\n    name:\"aboutView\",\n    components: { GameMap }\n}\n</script>\n\n","\"use strict\";\r\nexport default function mazecreator(row, col)  {\r\n  let down = 1;\r\n  let right = 2;\r\n  let left = 4;\r\n  let up = 8;\r\n  let WALL = 1;\r\n  let NOTHING = 0;\r\n  class block {\r\n    constructor(row, column, direction) {\r\n      this.row = row;\r\n      this.column = column;\r\n      this.direction = direction;\r\n    }\r\n  }\r\n  let myblock = new Array();\r\n  let x_num = 1;\r\n  let y_num = 1;\r\n  let G = new Array(row + 2);\r\n  for (let i = 0; i <G.length; i++) {\r\n    G[i] = new Array(col+2).fill(WALL);\r\n  }\r\n  G[1][1] = NOTHING;\r\n  function FindBlock() {\r\n    //找出与当前位置相邻的墙\r\n    if (x_num + 1 <= row && G[x_num + 1][y_num] == WALL) {\r\n      //down\r\n      myblock.push(new block(x_num + 1, y_num, down));\r\n    }\r\n    if (y_num + 1 <= col && G[x_num][y_num + 1] == WALL) {\r\n      //right\r\n      myblock.push(new block(x_num, y_num + 1, right));\r\n    }\r\n    if (x_num - 1 >= 1 && G[x_num - 1][y_num] == WALL) {\r\n      //up\r\n      myblock.push(new block(x_num - 1, y_num, up));\r\n    }\r\n    if (y_num - 1 >= 1 && G[x_num][y_num - 1] == WALL) {\r\n      //left\r\n      myblock.push(new block(x_num, y_num - 1, left));\r\n    }\r\n  }\r\n  FindBlock();\r\n  while (myblock.length!==0) {\r\n    let BlockSize = myblock.length;\r\n    let randnum = Math.floor(Math.random() * BlockSize);\r\n    let SelectBlock = myblock[randnum];\r\n    x_num = SelectBlock.row;\r\n    y_num = SelectBlock.column;\r\n    switch (SelectBlock.direction) {\r\n      case down:\r\n        x_num++;\r\n        break;\r\n      case right:\r\n        y_num++;\r\n        break;\r\n      case left:\r\n        y_num--;\r\n        break;\r\n      case up:\r\n        x_num--;\r\n        break;\r\n    }\r\n    if (G[x_num][y_num] == WALL) {\r\n      G[SelectBlock.row][SelectBlock.column] = G[x_num][y_num] = NOTHING;\r\n      FindBlock();\r\n    } \r\n    myblock.splice(randnum, 1);\r\n  }\r\n  return G;\r\n  /*\r\n  for (let i = 0; i <= row+1; i++) {\r\n    for (let j = 0; j <= col+1; j++) {\r\n        process.stdout.write(String(G[i][j]));\r\n    }\r\n    process.stdout.write(\"\\n\");\r\n  }*/\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","\"use strict\";\r\nexport default function putter(map,col,row)  {\r\n    let NOTHING = 0;\r\n    let endPos=new Array();\r\n    for (let i=1; i<col; i++)\r\n        for (let j=1; j<row; j++)\r\n            if (map[i][j]===NOTHING)\r\n            {\r\n                let degree=0;\r\n                if (map[i-1][j]===NOTHING) degree++;\r\n                if (map[i][j-1]===NOTHING) degree++;\r\n                if (map[i+1][j]===NOTHING) degree++;\r\n                if (map[i][j+1]===NOTHING) degree++;\r\n                if (degree===1)\r\n                {\r\n                    \r\n                    endPos.push([i+1,j+1]);\r\n                }             \r\n            }\r\n    let pair=[endPos[0],endPos.pop()];\r\n    endPos.shift();\r\n    map[pair[1][0]-1][pair[1][1]-1]=2;\r\n    for (let pair of endPos)\r\n    {\r\n        map[pair[0]-1][pair[1]-1]=3;\r\n    }\r\n    return pair\r\n}","\"use strict\";\r\nexport default function gacha()  {\r\n    let pool=[1,2,3,3,0,0,0,0,0,4,4,5,0,0,0];\r\n    return pool[Math.floor(Math.random() * pool.length)];\r\n}","<template>\r\n  <div class=\"box\" @keyup=\"herospin\" @keydown=\"heromove\" tabindex=\"0\"> </div>\r\n  <div class=\"winPage\">\r\n    <div class=\"PokeContainer\">\r\n      <div class=\"PokeItem\" v-for=\"i in poke.length\" :key=\"i\">\r\n        <img :src=\"images[poke[i - 1] + 4]\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"Map\">\r\n      <div class=\"MapContainer\">\r\n        <div class=\"MapCol\" v-for=\"j in gameRange(hero.posy.value - displayRange, hero.posy.value + displayRange, n)\"\r\n          :key=\"j\">\r\n          <div class=\"MapRow\" v-for=\"i in gameRange(hero.posx.value - displayRange, hero.posx.value + displayRange, m)\"\r\n            :key=\"i\">\r\n            <img :src=\"imgbackground\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"MapContainer\">\r\n        <div class=\"MapCol\" v-for=\"j in gameRange(hero.posy.value - displayRange, hero.posy.value + displayRange, n)\"\r\n          :key=\"j\">\r\n          <div class=\"MapRow\" v-for=\"i in gameRange(hero.posx.value - displayRange, hero.posx.value + displayRange, m)\"\r\n            :key=\"i\">\r\n            <img v-if=\"j == hero.posy.value && i == hero.posx.value\" :src=\"heroImage[hero.orientation.value]\" />\r\n            <img v-else :src=\"images[map[i - 1][j - 1]]\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"msgBox\">\r\n    剩余时间:{{timer}}\r\n    money:{{ money }}\r\n    长x宽:{{[m,n]}}\r\n    显示范围{{displayRange}}\r\n    {{ gameMsg }}\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useStore } from 'vuex';\r\nimport { ref, computed } from \"vue\";\r\nimport mazeCreator from '@/assets/mazeCreator.js';\r\nimport minralPutter from '@/assets/minralPutter.js';\r\nimport gacha from \"@/assets/gacha.js\";\r\nconst timer={\r\n  minute:ref(0),\r\n  second:ref(0)\r\n};\r\nsetInterval(() => {\r\n  timer.second.value++;\r\n  if (timer.second.value==60){\r\n    timer.minute.value++;\r\n    timer.second.value=0;\r\n  }\r\n}, 1000);\r\nconst store = useStore();\r\nconst m = computed(() => { return store.state.row });\r\nconst n = computed(() => { return store.state.col });\r\nconst nextFoot = ref(0);\r\nconst money = ref(0);\r\nconst poke = ref([]);\r\nconst displayRange = ref(5);\r\nconst gameMsg = ref(\"\");\r\nconst map = ref(mazeCreator(m.value - 2, n.value - 2));\r\nconst endPos = ref(minralPutter(map.value, m.value, n.value));\r\nconst imgbackground = require(\"@/assets/BackGround.png\");\r\nconst images = [\r\n  require(\"@/assets/TransparentPicture.png\"),\r\n  require(\"@/assets/Stone.png\"),\r\n  require(\"@/assets/Exit.png\"),\r\n  require(\"@/assets/Ball0.png\"),\r\n  require(\"@/assets/Ball1.png\"),\r\n  require(\"@/assets/Diglett.png\"),\r\n  require(\"@/assets/Dialga.png\"),\r\n  require(\"@/assets/Meowth.png\"),\r\n  require(\"@/assets/Ampharos.png\"),\r\n  require(\"@/assets/Weezing.png\")\r\n];\r\nconst heroImage = [\r\n  require(\"@/assets/Hero10.png\"),\r\n  require(\"@/assets/Hero11.png\"),\r\n  require(\"@/assets/Hero12.png\"),\r\n  require(\"@/assets/Hero20.png\"),\r\n  require(\"@/assets/Hero21.png\"),\r\n  require(\"@/assets/Hero22.png\"),\r\n  require(\"@/assets/Hero30.png\"),\r\n  require(\"@/assets/Hero31.png\"),\r\n  require(\"@/assets/Hero32.png\"),\r\n  require(\"@/assets/Hero40.png\"),\r\n  require(\"@/assets/Hero41.png\"),\r\n  require(\"@/assets/Hero42.png\")\r\n];\r\nconst keyCodeMap = new Map([\r\n  [87, 0],\r\n  [83, 3],\r\n  [65, 6],\r\n  [68, 9],\r\n  [38, 0],\r\n  [40, 3],\r\n  [37, 6],\r\n  [39, 9]\r\n]);\r\nconst coordinateTransformation = new Map([\r\n  [0, [-1, 0]],\r\n  [3, [1, 0]],\r\n  [6, [0, -1]],\r\n  [9, [0, 1]]\r\n]);\r\nconst hero = {\r\n  orientation: ref(0),\r\n  posx: ref(endPos.value[0][0]),\r\n  posy: ref(endPos.value[0][1])\r\n};\r\nconst mapBegin = {\r\n  posx: ref(endPos.value[0][0]),\r\n  posy: ref(endPos.value[0][1])\r\n};\r\nconst mapExit = {\r\n  posx: ref(endPos.value[1][0]),\r\n  posy: ref(endPos.value[1][1])\r\n};\r\nconst gameRange = (start, end, restriction) => {\r\n  return Array(end - start + 1).fill().map((_, idx) => start + idx).filter(x => x >= 1 && x <= restriction)\r\n}\r\nconst update = () => {\r\n  map.value = mazeCreator(m.value - 2, n.value - 2);\r\n  endPos.value = minralPutter(map.value, m.value, n.value);\r\n  hero.posx.value = endPos.value[0][0];\r\n  hero.posy.value = endPos.value[0][1];\r\n  hero.orientation.value = 0;\r\n  mapBegin.value = { posx: endPos.value[0][0], posy: endPos.value[0][1] };\r\n  mapExit.value = { posx: endPos.value[1][0], posy: endPos.value[1][1] };\r\n};\r\nconst handleGacha = () => {\r\n  switch (gacha()) {\r\n    case 0:\r\n      money.value += 300;\r\n      break;\r\n    case 1:\r\n      hero.posx.value = endPos.value[0][0];\r\n      hero.posy.value = endPos.value[0][1];\r\n      gameMsg.value = \"地鼠发动了挖洞技能,你回到了起点\";\r\n      poke.value.push(1);\r\n      break;\r\n    case 2:\r\n      poke.value.push(2);\r\n      break;\r\n    case 3:\r\n      money.value *= 2;\r\n      gameMsg.value = \"喵喵为你找来了更多金币\";\r\n      poke.value.push(3);\r\n      break;\r\n    case 4:\r\n      poke.value.push(4);\r\n      gameMsg.value = \"电龙发动了闪光术，你能看到更大的范围\";\r\n      displayRange.value = Math.min(displayRange.value+1,7);\r\n      break;\r\n    case 5:\r\n      poke.value.push(5);\r\n      gameMsg.value =\"你遭遇了双弹瓦斯，你的视野被遮蔽了\";\r\n      displayRange.value = Math.max(displayRange.value-1,3);\r\n  }\r\n};\r\nconst herospin = (event) => {\r\n  if (keyCodeMap.has(event.keyCode))\r\n  hero.orientation.value = keyCodeMap.get(event.keyCode);\r\n}\r\nconst handleInteraction = (code) => {\r\n  if (keyCodeMap.has(code)) {\r\n    let tempOperator = keyCodeMap.get(code);\r\n    if (coordinateTransformation.has(tempOperator)) {\r\n      let tempCoordinateTransformation = coordinateTransformation.get(tempOperator);\r\n      hero.orientation.value = tempOperator + 1 + nextFoot.value;\r\n      switch (map.value[hero.posx.value + tempCoordinateTransformation[0] - 1][hero.posy.value + tempCoordinateTransformation[1] - 1]) {\r\n        case 0:\r\n          hero.posx.value += tempCoordinateTransformation[0];\r\n          hero.posy.value += tempCoordinateTransformation[1];\r\n          break;\r\n        case 2:\r\n          hero.posx.value += tempCoordinateTransformation[0];\r\n          hero.posy.value += tempCoordinateTransformation[1];\r\n          update();\r\n          break;\r\n        case 3:\r\n          map.value[hero.posx.value + tempCoordinateTransformation[0] - 1][hero.posy.value + tempCoordinateTransformation[1] - 1] = 4;\r\n          handleGacha();\r\n          break;\r\n      }\r\n    }\r\n  }\r\n};\r\nconst heromove = (event) => {\r\n  nextFoot.value = 1 - nextFoot.value;\r\n  handleInteraction(event.keyCode);\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.msgBox {\r\n  position: absolute;\r\n  left: 0px;\r\n  top: 700px;\r\n  background-color: white;\r\n}\r\n\r\n.box {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 1;\r\n  height: 200vh;\r\n  width: 100%;\r\n  overflow: hidden;\r\n}\r\n\r\n.MapCol {\r\n  display: block;\r\n}\r\n\r\n.MapRow {\r\n  height: 32px;\r\n}\r\n\r\n.PokeContainer {\r\n  grid-template-columns: repeat(4, 75px);\r\n  display: grid;\r\n  justify-content: center;\r\n}\r\n\r\n.PokeItem {\r\n  height: 75px;\r\n}\r\n\r\n.MapContainer {\r\n  display: flex;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top:25%;\r\n}\r\n\r\n.Map {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.winPage {\r\n  display: grid;\r\n  grid-template-columns: 30% 50%;\r\n}</style>","import script from \"./GameMap.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GameMap.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./GameMap.vue?vue&type=style&index=0&id=22a30d32&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\code\\\\vue\\\\miner\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-22a30d32\"]])\n\nexport default __exports__","import { render } from \"./MainView.vue?vue&type=template&id=44f46353\"\nimport script from \"./MainView.vue?vue&type=script&lang=js\"\nexport * from \"./MainView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\code\\\\vue\\\\miner\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_GameConfig","store","useStore","m","ref","state","row","n","col","level","levels","update","has","value","commit","get","__exports__","name","components","GameConfig","render","_component_GameMap","mazecreator","down","right","left","up","WALL","NOTHING","block","constructor","column","direction","this","myblock","Array","x_num","y_num","G","i","length","fill","FindBlock","push","BlockSize","randnum","Math","floor","random","SelectBlock","splice","putter","map","endPos","j","degree","pair","pop","shift","gacha","pool","timer","minute","second","setInterval","computed","nextFoot","money","poke","displayRange","gameMsg","mazeCreator","minralPutter","imgbackground","require","images","heroImage","keyCodeMap","Map","coordinateTransformation","hero","orientation","posx","posy","mapBegin","mapExit","gameRange","start","end","restriction","_","idx","filter","x","handleGacha","min","max","herospin","event","keyCode","handleInteraction","code","tempOperator","tempCoordinateTransformation","heromove","GameMap"],"sourceRoot":""}